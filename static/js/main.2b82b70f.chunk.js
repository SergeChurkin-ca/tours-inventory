(this["webpackJsonptour-inventory-3.0"]=this["webpackJsonptour-inventory-3.0"]||[]).push([[0],{41:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(3),r=n.n(c),i=n(33),s=n.n(i),l=n(12);n(41);function o(){return Object(a.jsxs)("div",{className:"error-wrapper",children:[Object(a.jsx)("h3",{children:"Oopps, this page does not exist"}),Object(a.jsx)(l.b,{to:"/",children:"Return home"})]})}function d(){return Object(a.jsx)("div",{className:"home",children:Object(a.jsx)("main",{className:"main wrapper",children:Object(a.jsxs)("header",{children:[Object(a.jsx)("h1",{children:"tourbees"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("h2",{children:"your exclusive tour partner"}),Object(a.jsx)(l.b,{to:"/tourmenu",children:Object(a.jsx)("button",{className:"header-btn",children:"find out"})})]})})})}var u=n(18),j=n.n(u),b=n(22),h=n(10),m=n.p+"static/media/spinner.1e6c7ff9.gif";function p(){return Object(a.jsxs)("div",{className:"loading",children:[Object(a.jsx)("img",{className:"spinner",src:m,alt:""}),Object(a.jsx)("h4",{children:"Loading ..."})]})}var O=n(28);n(47);O.a.initializeApp({apiKey:"AIzaSyAvmOCITwc2n7AfUZxmsvSg3Oh9vxiB6BM",authDomain:"tours-inventory.firebaseapp.com",databaseURL:"https://tours-inventory.firebaseio.com",projectId:"tours-inventory",storageBucket:"tours-inventory.appspot.com",messagingSenderId:"227516769907",appId:"1:227516769907:web:63ecc0d66b794542512c06"});var v=O.a,x=n(29);var f=function(e){var t=e.filterItemsCat,n=e.filterItemsDate,c=e.tours,r=["all"].concat(Object(x.a)(new Set(c.map((function(e){return e.category}))))),i=(["all"].concat(Object(x.a)(new Set(c.map((function(e){return e.date}))))),new Date);return Object(a.jsxs)("div",{className:"categories-container wrapper",children:[Object(a.jsx)("div",{className:"calendar-container",children:Object(a.jsxs)("form",{className:"calendar",children:[Object(a.jsx)("label",{children:"select by date"}),Object(a.jsx)("input",{type:"date",onChange:function(e){return n(e.target.value)},defaultValue:"".concat(i.getFullYear(),"-0").concat(i.getMonth()+1,"-0").concat(i.getDate())})]})}),Object(a.jsxs)("div",{className:"options-container",children:[Object(a.jsx)("span",{children:"select by category"}),Object(a.jsxs)("select",{onChange:function(e){return t(e.target.value)},children:[Object(a.jsx)("option",{value:"",children:"--Choose category--"}),r.map((function(e){return Object(a.jsx)("option",{children:e},e)}))]})]})]})};var g=function(e){var t=e.filterredTours;return Object(a.jsx)("div",{className:"tour-output-list",children:t.sort((function(e,t){return new Date(e.date)-new Date(t.date)})).map((function(e){return Object(a.jsxs)("div",{className:"tour-item",children:[Object(a.jsx)("h3",{children:e.name}),Object(a.jsxs)("p",{children:["category: ",e.category]}),Object(a.jsxs)("p",{children:["date: ",e.date]}),Object(a.jsxs)("p",{children:["seats: ",e.seats]}),Object(a.jsx)("div",{className:"img-container",children:Object(a.jsx)("img",{className:"tour-img",src:e.imgUrl,alt:"placeholder img"})}),Object(a.jsx)("div",{className:"tour-description",children:Object(a.jsx)("p",{children:e.description})})]},e.id)}))})},y=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),s=Object(h.a)(i,2),l=s[0],o=s[1],d=Object(c.useState)(!0),u=Object(h.a)(d,2),m=u[0],O=u[1],x=Object(c.useState)([]),y=Object(h.a)(x,2),C=y[0],N=y[1],w=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0),v.database().ref().on("value",(function(e){var t=e.val(),n=[];for(var a in t){var c={id:a,name:t[a].name,category:t[a].category,seats:t[a].seats,date:t[a].date,description:t[a].description,imgUrl:"https://source.unsplash.com/350x350/?"+t[a].name};n.push(c),O(!1)}r(n),o(n),N(n)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){w()}),[]),m?Object(a.jsx)("main",{children:Object(a.jsx)(p,{})}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)(f,{filterItemsCat:function(e){r(e&&"all"!==e?l.filter((function(t){return t.category===e})):l)},filterItemsDate:function(e){r(e&&"all"!==e?C.filter((function(t){return t.date===e})):l)},tours:n}),Object(a.jsxs)("div",{className:"tour-output-container",children:[Object(a.jsx)("h4",{children:0===n.length&&"please hold on... nothing found for this day "}),Object(a.jsx)(g,{filterredTours:n})]})]})})},C=(new Date).toISOString().split("T")[0],N=function(){var e=v.database().ref(),t=Object(c.useState)([]),n=Object(h.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)([]),l=Object(h.a)(s,2),o=l[0],d=l[1],u=Object(c.useState)([]),j=Object(h.a)(u,2),b=j[0],m=j[1],p=Object(c.useState)([]),O=Object(h.a)(p,2),x=O[0],f=O[1],g=Object(c.useState)([]),y=Object(h.a)(g,2),N=y[0],w=y[1],E=Object(c.useState)([]),k=Object(h.a)(E,2),S=k[0],D=k[1];return Object(a.jsx)("div",{className:"inputformWrapper",children:Object(a.jsxs)("form",{onSubmit:function(t){!function(t){t.preventDefault(),console.log(0===r.length),0===r.length||0===o.length||0===b.length||0===N.length||0===S.length||0===x.length?alert("all fields are required"):(e.push().set({name:r,category:o,date:b,duration:x,seats:N,description:S}),alert("submitted!"),i(""),d(""),m(""),f([]),w(""),D(""),console.log(r))}(t)},children:[Object(a.jsx)("input",{type:"text",className:"noteInput",placeholder:"Add tour name",name:"tourName",value:r,onChange:function(e){return i(e.target.value)},maxLength:"20"}),Object(a.jsx)("input",{type:"text",className:"descriptionInput",placeholder:"Add tour description",name:"tourDescription",value:S,onChange:function(e){return D(e.target.value)},maxLength:"60"}),Object(a.jsxs)("div",{className:"inputParamsWrapper",children:[Object(a.jsxs)("select",{className:"input-form-select",onChange:function(e){return d(e.target.value)},value:o,children:[Object(a.jsx)("option",{value:"",children:"-- select category --"},o),Object(a.jsx)("option",{value:"land",children:"land"},o),Object(a.jsx)("option",{value:"water",children:"water"},o),Object(a.jsx)("option",{value:"culinary",children:"culinary"},o),Object(a.jsx)("option",{value:"historical",children:"historical"},o),Object(a.jsx)("option",{value:"air",children:"air"},o)]}),Object(a.jsx)("input",{type:"date",min:C,className:"dateInput",name:"tourDate",value:b,onChange:function(e){return m(e.target.value)}}),Object(a.jsx)("input",{type:"number",className:"dateInput",placeholder:"hrs",name:"tourDuration",value:x,onChange:function(e){return f(e.target.value)}}),Object(a.jsx)("input",{type:"number",className:"dateInput",placeholder:"pax",name:"tourSeats",value:N,onChange:function(e){return w(e.target.value)}}),Object(a.jsx)("button",{type:"submit",onChange:function(){return d(null)},className:"noteButton",children:"Add"})]})]})})},w=n(35).a.database().ref(),E=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!0),s=Object(h.a)(i,2),l=s[0],o=s[1],d=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),w.on("value",(function(e){var t=e.val(),n=[];for(var a in t){var c={id:a,name:t[a].name,category:t[a].category,seats:t[a].seats,date:t[a].date,duration:t[a].duration};n.push(c),n.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),o(!1)}r(n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(c.useEffect)((function(){d()}),[]),l)return Object(a.jsx)("main",{children:Object(a.jsx)(p,{})});return Object(a.jsxs)("div",{className:"tour-edit-table",children:[Object(a.jsxs)("div",{className:"table-header",children:[Object(a.jsx)("h4",{children:"Tour Inventory Editor"}),Object(a.jsxs)("h4",{children:["Total tours: ",n.length]}),Object(a.jsxs)("ul",{className:"table-params",children:[Object(a.jsx)("li",{children:"edit"}),Object(a.jsx)("li",{children:"name"}),Object(a.jsx)("li",{children:"category"}),Object(a.jsx)("li",{children:"date"}),Object(a.jsx)("li",{children:"duration"}),Object(a.jsx)("li",{children:"seats"})]})]}),n.sort((function(e,t){return e.date<t.date})).map((function(e){return Object(a.jsx)("ul",{className:"table-vals",children:Object(a.jsxs)("li",{children:[Object(a.jsx)("p",{children:Object(a.jsx)("button",{onClick:function(){return t=e.id,void w.child(t).remove();var t},children:Object(a.jsx)("i",{className:"fas fa-backspace",children:" "})})}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{onClick:function(){return function(e){var t=document.createElement("div");t.classList.add("overlay");var n=document.createElement("div");n.setAttribute("class","overlay-container");var a=document.createElement("span");a.innerHTML="Edit Tour Name";var c=document.createElement("input");c.type="text",c.placeholder="Enter tour name",c.style.width="200px";var r=document.createElement("button");r.textContent="Confirm";var i=document.createElement("button");i.textContent="Cancel",n.appendChild(a),n.appendChild(c),n.appendChild(r),n.appendChild(i),t.appendChild(n),document.body.appendChild(t),r.addEventListener("click",(function(){var n=c.value.trim();n?(w.child(e).update({name:n}),document.body.removeChild(t)):alert("Tour name can't be blank")})),i.addEventListener("click",(function(){document.body.removeChild(t)}))}(e.id)},children:Object(a.jsx)("i",{className:"fas fa-pen",children:" "})}),e.name]}),Object(a.jsxs)("p",{children:[" ",e.category]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{onClick:function(){return function(e){var t=new Date;t.setDate(t.getDate()+1);var n=/^(19|20)\d{2}-(0[1-9]|1[0-2])-(0[1-9]|1\d|2\d|3[01])$/,a=t.toISOString().split("T")[0],c=t.getFullYear(),r=document.createElement("input");r.type="date",r.min=a,r.value=c+"-0"+[t.getMonth()+1]+"-"+t.getDate();var i=document.createElement("button");i.textContent="Confirm";var s=document.createElement("button");s.textContent="Cancel";var l=document.createElement("div");l.setAttribute("class","overlay-container");var o=document.createElement("span");o.innerHTML="New Tour Date",l.appendChild(o),l.appendChild(r),l.appendChild(i),l.appendChild(s);var d=document.createElement("div");d.classList.add("overlay"),d.appendChild(l),document.body.appendChild(d),i.addEventListener("click",(function(){var t=r.value;t?t<a?alert("invalid date\n\ncan't chose past date\n\nconsider format: year-month-day\n\ne.g. 2021-01-01"):t.slice(0,4)<c||t.slice(0,4)>c+1?(alert("invalid year\n\nplease chose something realistic ;)"),console.log(n.test(t))):"-"!==t.slice(4,5)||"-"!==t.slice(7,8)||!1===n.test(t)?alert("invalid format/date\n\nconsider format: year-month-day\n\ne.g. 2021-01-01"):(w.child(e).update({date:t}),document.body.removeChild(d)):alert("check your input\n\ncan't be blank")})),s.addEventListener("click",(function(){document.body.removeChild(d)}))}(e.id)},children:Object(a.jsx)("i",{className:"fas fa-pen",children:" "})}),e.date]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{onClick:function(){return function(e){var t=document.createElement("input");t.type="number",t.min=1,t.max=24,t.placeholder="1 hour";var n=document.createElement("button");n.textContent="Confirm";var a=document.createElement("button");a.textContent="Cancel";var c=document.createElement("div");c.setAttribute("class","overlay-container");var r=document.createElement("span");r.innerHTML="Edit Tour Duration (hours)",c.appendChild(r),c.appendChild(t),c.appendChild(n),c.appendChild(a);var i=document.createElement("div");i.classList.add("overlay"),i.appendChild(c),document.body.appendChild(i),n.addEventListener("click",(function(){var n=t.value;n?(w.child(e).update({duration:n}),document.body.removeChild(i)):alert("check your input\n\ncan't be blank")})),a.addEventListener("click",(function(){document.body.removeChild(i)}))}(e.id)},children:Object(a.jsx)("i",{className:"fas fa-pen",children:" "})}),e.duration," hrs"]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{onClick:function(){return function(e){var t=document.createElement("div");t.classList.add("overlay");var n=document.createElement("div");n.setAttribute("class","overlay-container");var a=document.createElement("span");a.innerHTML="Edit Tour Seats";var c=document.createElement("input");c.type="number",c.placeholder="seats",c.min=1,c.style.width="70px";var r=document.createElement("button");r.textContent="Confirm";var i=document.createElement("button");i.textContent="Cancel",n.appendChild(a),n.appendChild(c),n.appendChild(r),n.appendChild(i),t.appendChild(n),document.body.appendChild(t),r.addEventListener("click",(function(){var n=c.value;n?(w.child(e).update({seats:n}),document.body.removeChild(t)):alert("can't be blank")})),i.addEventListener("click",(function(){document.body.removeChild(t)}))}(e.id)},children:Object(a.jsx)("i",{className:"fas fa-pen",children:" "})}),e.seats," pax"]})]},e.id)},"tabb")}))]})},k=function(){return Object(a.jsxs)("div",{className:"tour-booking-list",children:[Object(a.jsx)(N,{}),Object(a.jsx)(E,{})]})},S=function(){var e="admin",t=Object(c.useState)(!1),n=Object(h.a)(t,2),r=n[0],i=n[1],s=Object(a.jsx)("div",{className:"authorize-wrapper",children:Object(a.jsxs)("div",{className:"authorize",children:[Object(a.jsx)("h4",{children:"please login to proceed"}),Object(a.jsx)("p",{children:"(password hint this time: 'admin')"}),Object(a.jsxs)("form",{action:"#",onSubmit:function(t){t.preventDefault();var n=t.target.querySelector('input[type="password"]').value;return e!==n?alert("wrong password"):i(e===n)},children:[Object(a.jsx)("input",{type:"password",placeholder:"Password"}),Object(a.jsx)("input",{type:"submit",value:"login"})]})]})});return Object(a.jsxs)(a.Fragment,{children:[r||s,r&&Object(a.jsx)(k,{})]})},D=n(8),L=n.p+"static/media/tourbeeslogo.8c45e0fb.svg";function I(){return Object(a.jsx)("div",{children:Object(a.jsxs)("nav",{className:"navbar",children:[Object(a.jsx)("i",{className:"fa fa-bars"}),Object(a.jsx)("input",{type:"checkbox",id:"toggle",name:"toggle"}),Object(a.jsx)("div",{className:"logo-wrapper",children:Object(a.jsx)("img",{src:L,alt:"tourbess logo",className:"logo"})}),Object(a.jsxs)("ul",{className:"nav-links",children:[Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/",children:"Home"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/tourmenu",children:"Tours"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/manageinventory",children:"Manage Inventory"})})]})]})})}var T=function(){return Object(a.jsxs)("footer",{children:[Object(a.jsxs)("ul",{className:"social",children:[Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:"li-ic mr-3",role:"button",href:"https://www.linkedin.com/in/sergechurkin/",target:"blank",children:Object(a.jsx)("i",{className:"fab fa-lg fa-linkedin-in "})})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:"git-ic mr-3 ",role:"button",href:"https://github.com/sergechurkin-ca",target:"blank",children:Object(a.jsx)("i",{className:"fab fa-lg fa-github "})})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:"email-ic mr-3",role:"button",href:"mailto:sergechurkin@gmai.com",children:Object(a.jsx)("i",{className:"far fa-lg fa-envelope "})})})]}),Object(a.jsxs)("p",{className:"trademark ",children:["2020 created by serge churkin ",Object(a.jsx)("a",{href:"https://serge-web.com",children:"    www.serge-web.com"})]})]})};var A=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(l.a,{basename:"/tours-inventory",children:[Object(a.jsx)(I,{}),Object(a.jsxs)(D.c,{children:[Object(a.jsx)(D.a,{exact:!0,path:"/",component:d}),Object(a.jsx)(D.a,{exat:!0,path:"/tourmenu",component:y}),Object(a.jsx)(D.a,{exact:!0,path:"/manageinventory",component:S}),Object(a.jsx)(D.a,{component:o})]}),Object(a.jsx)(T,{})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(l.a,{children:Object(a.jsx)(A,{})})}),document.getElementById("root")),F()}},[[50,1,2]]]);
//# sourceMappingURL=main.2b82b70f.chunk.js.map