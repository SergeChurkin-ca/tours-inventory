(this["webpackJsonptour-inventory-3.0"]=this["webpackJsonptour-inventory-3.0"]||[]).push([[0],{39:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),r=n(32),i=n.n(r),s=n(13),o=(n(39),n(2));function l(){return Object(o.jsxs)("div",{className:"error-wrapper",children:[Object(o.jsx)("h3",{children:"Oopps, this page does not exist"}),Object(o.jsx)(s.b,{to:"/",children:"Return home"})]})}function d(){return Object(o.jsx)("div",{className:"home",children:Object(o.jsx)("main",{className:"main wrapper",children:Object(o.jsxs)("header",{children:[Object(o.jsx)("h1",{children:"tourbees"}),Object(o.jsx)("div",{className:"line"}),Object(o.jsx)("h2",{children:"your exclusive tour partner"}),Object(o.jsx)(s.b,{to:"/tourmenu",children:Object(o.jsx)("button",{className:"header-btn",children:"find out"})})]})})})}var u=n(18),j=n(21),b=n(11),h=n.p+"static/media/spinner.1e6c7ff9.gif";function m(){return Object(o.jsxs)("div",{className:"loading",children:[Object(o.jsx)("img",{className:"spinner",src:h,alt:""}),Object(o.jsx)("h4",{children:"Loading ..."})]})}var p=n(26);n(45);p.a.initializeApp({apiKey:"AIzaSyAvmOCITwc2n7AfUZxmsvSg3Oh9vxiB6BM",authDomain:"tours-inventory.firebaseapp.com",databaseURL:"https://tours-inventory.firebaseio.com",projectId:"tours-inventory",storageBucket:"tours-inventory.appspot.com",messagingSenderId:"227516769907",appId:"1:227516769907:web:63ecc0d66b794542512c06"});var O=p.a,v=n(27);var x=function(e){var t=e.filterItemsCat,n=e.filterItemsDate,a=e.tours,c=["all"].concat(Object(v.a)(new Set(a.map((function(e){return e.category}))))),r=(["all"].concat(Object(v.a)(new Set(a.map((function(e){return e.date}))))),new Date);return Object(o.jsxs)("div",{className:"categories-container wrapper",children:[Object(o.jsx)("div",{className:"headline-container",children:Object(o.jsx)("h2",{children:"Discover Available Tours"})}),Object(o.jsx)("div",{className:"calendar-container",children:Object(o.jsxs)("form",{className:"calendar",children:[Object(o.jsx)("label",{children:"select by date"}),Object(o.jsx)("input",{type:"date",onChange:function(e){return n(e.target.value)},defaultValue:"".concat(r.getFullYear(),"-0").concat(r.getMonth()+1,"-0").concat(r.getDate())})]})}),Object(o.jsxs)("div",{className:"options-container",children:[Object(o.jsx)("span",{children:"select by category"}),Object(o.jsxs)("select",{onChange:function(e){return t(e.target.value)},children:[Object(o.jsx)("option",{value:"",children:"--Choose category--"}),c.map((function(e){return Object(o.jsx)("option",{children:e},e)}))]})]})]})};function f(e){var t=new Date(e),n=t.getUTCDate(),a="th";return 1===n||21===n||31===n?a="st":2===n||22===n?a="nd":3!==n&&23!==n||(a="rd"),"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getUTCMonth()]," ").concat(n).concat(a)}var g=function(e){var t=e.filterredTours;return Object(o.jsx)("div",{className:"tour-output-list",children:t.sort((function(e,t){return new Date(e.date)-new Date(t.date)})).map((function(e){return Object(o.jsxs)("div",{className:"tour-item",children:[Object(o.jsx)("div",{className:"img-container",children:Object(o.jsx)("img",{className:"tour-img",src:e.imgUrl,alt:"placeholder img"})}),Object(o.jsxs)("h4",{children:["\ud83d\udd51 ",f(e.date)," | ",e.seats," pax  | ",e.category," "]}),Object(o.jsx)("h3",{children:e.name}),Object(o.jsx)("div",{className:"tour-description",children:Object(o.jsx)("p",{children:e.description})})]},e.id)}))})},y=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(b.a)(r,2),s=i[0],l=i[1],d=Object(a.useState)(!0),h=Object(b.a)(d,2),p=h[0],v=h[1],f=Object(a.useState)([]),y=Object(b.a)(f,2),C=y[0],N=y[1],w=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!0),O.database().ref().on("value",(function(e){var t=e.val(),n=[];for(var a in t){var r={id:a,name:t[a].name,category:t[a].category,seats:t[a].seats,date:t[a].date,description:t[a].description,imgUrl:"https://source.unsplash.com/350x350/?"+t[a].name};n.push(r),v(!1)}c(n),l(n),N(n)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){w()}),[]),p?Object(o.jsx)("main",{children:Object(o.jsx)(m,{})}):Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"wrapper",children:[Object(o.jsx)(x,{filterItemsCat:function(e){c(e&&"all"!==e?s.filter((function(t){return t.category===e})):s)},filterItemsDate:function(e){c(e&&"all"!==e?C.filter((function(t){return t.date===e})):s)},tours:n}),Object(o.jsxs)("div",{className:"tour-output-container",children:[Object(o.jsx)("h4",{children:0===n.length&&"please hold on... nothing found for this day "}),Object(o.jsx)(g,{filterredTours:n})]})]})})},C=(new Date).toISOString().split("T")[0],N=function(){var e=O.database().ref(),t=Object(a.useState)([]),n=Object(b.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(b.a)(i,2),l=s[0],d=s[1],u=Object(a.useState)([]),j=Object(b.a)(u,2),h=j[0],m=j[1],p=Object(a.useState)([]),v=Object(b.a)(p,2),x=v[0],f=v[1],g=Object(a.useState)([]),y=Object(b.a)(g,2),N=y[0],w=y[1],E=Object(a.useState)([]),k=Object(b.a)(E,2),S=k[0],D=k[1];return Object(o.jsx)("div",{className:"inputformWrapper",children:Object(o.jsxs)("form",{onSubmit:function(t){!function(t){t.preventDefault(),console.log(0===c.length),0===c.length||0===l.length||0===h.length||0===N.length||0===S.length||0===x.length?alert("all fields are required"):(e.push().set({name:c,category:l,date:h,duration:x,seats:N,description:S}),alert("submitted!"),r(""),d(""),m(""),f([]),w(""),D(""),console.log(c))}(t)},children:[Object(o.jsx)("input",{type:"text",className:"noteInput",placeholder:"Add tour name",name:"tourName",value:c,onChange:function(e){return r(e.target.value)},maxLength:"20"}),Object(o.jsx)("input",{type:"text",className:"descriptionInput",placeholder:"Add tour description",name:"tourDescription",value:S,onChange:function(e){return D(e.target.value)},maxLength:"160"}),Object(o.jsxs)("div",{className:"inputParamsWrapper",children:[Object(o.jsxs)("select",{className:"input-form-select",onChange:function(e){return d(e.target.value)},value:l,children:[Object(o.jsx)("option",{value:"",children:"-- select category --"},l),Object(o.jsx)("option",{value:"land",children:"land"},l),Object(o.jsx)("option",{value:"water",children:"water"},l),Object(o.jsx)("option",{value:"culinary",children:"culinary"},l),Object(o.jsx)("option",{value:"historical",children:"historical"},l),Object(o.jsx)("option",{value:"air",children:"air"},l)]}),Object(o.jsx)("input",{type:"date",min:C,className:"dateInput",name:"tourDate",value:h,onChange:function(e){return m(e.target.value)}}),Object(o.jsx)("input",{type:"number",className:"dateInput",placeholder:"hrs",name:"tourDuration",value:x,onChange:function(e){return f(e.target.value)}}),Object(o.jsx)("input",{type:"number",className:"dateInput",placeholder:"pax",name:"tourSeats",value:N,onChange:function(e){return w(e.target.value)}}),Object(o.jsx)("button",{type:"submit",onChange:function(){return d(null)},className:"noteButton",children:"Add"})]})]})})},w=n(34).a.database().ref(),E=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(b.a)(r,2),s=i[0],l=i[1],d=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),w.on("value",(function(e){var t=e.val(),n=[];for(var a in t){var r={id:a,name:t[a].name,category:t[a].category,seats:t[a].seats,date:t[a].date,duration:t[a].duration};n.push(r),n.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),l(!1)}c(n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(a.useEffect)((function(){d()}),[]),s)return Object(o.jsx)("main",{children:Object(o.jsx)(m,{})});return Object(o.jsxs)("div",{className:"tour-edit-table",children:[Object(o.jsxs)("div",{className:"table-header",children:[Object(o.jsx)("h4",{children:"Tour Inventory Editor"}),Object(o.jsxs)("h4",{children:["Total tours: ",n.length]})]}),Object(o.jsx)("div",{className:"responsive-table",children:Object(o.jsxs)("table",{children:[Object(o.jsxs)("thead",{className:"table-header",children:[Object(o.jsx)("th",{children:"remove"}),Object(o.jsx)("th",{children:"name"}),Object(o.jsx)("th",{children:"category"}),Object(o.jsx)("th",{children:"date"}),Object(o.jsx)("th",{children:"duration"}),Object(o.jsx)("th",{children:"seats"})]}),Object(o.jsx)("tbody",{children:n.sort((function(e,t){return e.date<t.date})).map((function(e){return Object(o.jsxs)("tr",{className:"table-vals",children:[Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:function(){return t=e.id,void w.child(t).remove();var t},children:Object(o.jsx)("i",{className:"fas fa-backspace"})})}),Object(o.jsxs)("td",{children:[Object(o.jsx)("button",{onClick:function(){return function(e){var t=document.createElement("div");t.classList.add("overlay");var n=document.createElement("div");n.setAttribute("class","overlay-container");var a=document.createElement("span");a.innerHTML="Edit Tour Name";var c=document.createElement("input");c.type="text",c.placeholder="Enter tour name",c.style.width="200px";var r=document.createElement("button");r.textContent="Confirm";var i=document.createElement("button");i.textContent="Cancel",n.appendChild(a),n.appendChild(c),n.appendChild(r),n.appendChild(i),t.appendChild(n),document.body.appendChild(t),r.addEventListener("click",(function(){var n=c.value.trim();n?(w.child(e).update({name:n}),document.body.removeChild(t)):alert("Tour name can't be blank")})),i.addEventListener("click",(function(){document.body.removeChild(t)}))}(e.id)},children:Object(o.jsx)("i",{className:"fas fa-pen"})}),e.name]}),Object(o.jsx)("td",{children:e.category}),Object(o.jsxs)("td",{children:[Object(o.jsx)("button",{onClick:function(){return function(e){var t=new Date;t.setDate(t.getDate()+1);var n=/^(19|20)\d{2}-(0[1-9]|1[0-2])-(0[1-9]|1\d|2\d|3[01])$/,a=t.toISOString().split("T")[0],c=t.getFullYear(),r=document.createElement("input");r.type="date",r.min=a,r.value=c+"-0"+[t.getMonth()+1]+"-"+t.getDate();var i=document.createElement("button");i.textContent="Confirm";var s=document.createElement("button");s.textContent="Cancel";var o=document.createElement("div");o.setAttribute("class","overlay-container");var l=document.createElement("span");l.innerHTML="New Tour Date",o.appendChild(l),o.appendChild(r),o.appendChild(i),o.appendChild(s);var d=document.createElement("div");d.classList.add("overlay"),d.appendChild(o),document.body.appendChild(d),i.addEventListener("click",(function(){var t=r.value;t?t<a?alert("invalid date\n\ncan't chose past date\n\nconsider format: year-month-day\n\ne.g. 2021-01-01"):t.slice(0,4)<c||t.slice(0,4)>c+1?(alert("invalid year\n\nplease chose something realistic ;)"),console.log(n.test(t))):"-"!==t.slice(4,5)||"-"!==t.slice(7,8)||!1===n.test(t)?alert("invalid format/date\n\nconsider format: year-month-day\n\ne.g. 2021-01-01"):(w.child(e).update({date:t}),document.body.removeChild(d)):alert("check your input\n\ncan't be blank")})),s.addEventListener("click",(function(){document.body.removeChild(d)}))}(e.id)},children:Object(o.jsx)("i",{className:"fas fa-pen"})}),e.date]}),Object(o.jsxs)("td",{children:[Object(o.jsx)("button",{onClick:function(){return function(e){var t=document.createElement("input");t.type="number",t.min=1,t.max=24,t.placeholder="1 hour";var n=document.createElement("button");n.textContent="Confirm";var a=document.createElement("button");a.textContent="Cancel";var c=document.createElement("div");c.setAttribute("class","overlay-container");var r=document.createElement("span");r.innerHTML="Edit Tour Duration (hours)",c.appendChild(r),c.appendChild(t),c.appendChild(n),c.appendChild(a);var i=document.createElement("div");i.classList.add("overlay"),i.appendChild(c),document.body.appendChild(i),n.addEventListener("click",(function(){var n=t.value;n?(w.child(e).update({duration:n}),document.body.removeChild(i)):alert("check your input\n\ncan't be blank")})),a.addEventListener("click",(function(){document.body.removeChild(i)}))}(e.id)},children:Object(o.jsx)("i",{className:"fas fa-pen"})}),e.duration," hrs"]}),Object(o.jsxs)("td",{children:[Object(o.jsx)("button",{onClick:function(){return function(e){var t=document.createElement("div");t.classList.add("overlay");var n=document.createElement("div");n.setAttribute("class","overlay-container");var a=document.createElement("span");a.innerHTML="Edit Tour Seats";var c=document.createElement("input");c.type="number",c.placeholder="seats",c.min=1,c.style.width="70px";var r=document.createElement("button");r.textContent="Confirm";var i=document.createElement("button");i.textContent="Cancel",n.appendChild(a),n.appendChild(c),n.appendChild(r),n.appendChild(i),t.appendChild(n),document.body.appendChild(t),r.addEventListener("click",(function(){var n=c.value;n?(w.child(e).update({seats:n}),document.body.removeChild(t)):alert("can't be blank")})),i.addEventListener("click",(function(){document.body.removeChild(t)}))}(e.id)},children:Object(o.jsx)("i",{className:"fas fa-pen"})}),e.seats," pax"]})]},e.id)}))})]})})]})},k=function(){return Object(o.jsxs)("div",{className:"tour-booking-list",children:[Object(o.jsx)("h2",{children:"Inventory Control"}),Object(o.jsx)(N,{}),Object(o.jsx)(E,{})]})},S=function(){var e="admin",t=Object(a.useState)(!1),n=Object(b.a)(t,2),c=n[0],r=n[1],i=Object(o.jsx)("div",{className:"authorize-wrapper",children:Object(o.jsxs)("div",{className:"authorize",children:[Object(o.jsx)("h4",{children:"please login to proceed"}),Object(o.jsx)("p",{children:"(password is open for now: 'admin')"}),Object(o.jsxs)("form",{action:"#",onSubmit:function(t){t.preventDefault();var n=t.target.querySelector('input[type="password"]').value;return e!==n?alert("wrong password"):r(e===n)},children:[Object(o.jsx)("input",{type:"password",placeholder:"Password",value:"admin"}),Object(o.jsx)("input",{type:"submit",value:"login"})]})]})});return Object(o.jsxs)(o.Fragment,{children:[c||i,c&&Object(o.jsx)(k,{})]})},D=n(8),L=n.p+"static/media/tourbeeslogo.8c45e0fb.svg";function T(){return Object(o.jsx)("div",{children:Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)("i",{className:"fa fa-bars"}),Object(o.jsx)("input",{type:"checkbox",id:"toggle",name:"toggle"}),Object(o.jsx)("div",{className:"logo-wrapper",children:Object(o.jsx)("img",{src:L,alt:"tourbess logo",className:"logo"})}),Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsx)(s.b,{to:"/",children:"Home"})}),Object(o.jsx)("li",{children:Object(o.jsx)(s.b,{to:"/tourmenu",children:"Tours"})}),Object(o.jsx)("li",{children:Object(o.jsx)(s.b,{to:"/manageinventory",children:"Manage Inventory"})})]})]})})}var I=function(){return Object(o.jsxs)("footer",{children:[Object(o.jsxs)("ul",{className:"social",children:[Object(o.jsx)("li",{children:Object(o.jsx)("a",{className:"li-ic mr-3",role:"button",href:"https://www.linkedin.com/in/sergechurkin/",target:"blank",children:Object(o.jsx)("i",{className:"fab fa-lg fa-linkedin-in "})})}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{className:"git-ic mr-3 ",role:"button",href:"https://github.com/sergechurkin-ca",target:"blank",children:Object(o.jsx)("i",{className:"fab fa-lg fa-github "})})}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{className:"email-ic mr-3",role:"button",href:"mailto:sergechurkin@gmai.com",children:Object(o.jsx)("i",{className:"far fa-lg fa-envelope "})})})]}),Object(o.jsxs)("p",{className:"trademark ",children:["\xa92023 created by serge churkin ",Object(o.jsx)("a",{href:"https://serges.site",children:"www.serges.site"})]})]})};var A=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(s.a,{basename:"/tours-inventory",children:[Object(o.jsx)(T,{}),Object(o.jsxs)(D.c,{children:[Object(o.jsx)(D.a,{exact:!0,path:"/",component:d}),Object(o.jsx)(D.a,{exat:!0,path:"/tourmenu",component:y}),Object(o.jsx)(D.a,{exact:!0,path:"/manageinventory",component:S}),Object(o.jsx)(D.a,{component:l})]}),Object(o.jsx)(I,{})]})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(s.a,{children:Object(o.jsx)(A,{})})}),document.getElementById("root")),M()}},[[49,1,2]]]);
//# sourceMappingURL=main.9fd9b89d.chunk.js.map