(this["webpackJsonptour-inventory-3.0"]=this["webpackJsonptour-inventory-3.0"]||[]).push([[0],{41:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(3),r=n.n(c),s=n(33),i=n.n(s),l=n(12);n(41);function o(){return Object(a.jsxs)("div",{className:"error-wrapper",children:[Object(a.jsx)("h3",{children:"Oopps, this page does not exist"}),Object(a.jsx)(l.b,{to:"/",children:"Return home"})]})}function j(){return Object(a.jsx)("div",{className:"home",children:Object(a.jsx)("main",{className:"main wrapper",children:Object(a.jsxs)("header",{children:[Object(a.jsx)("h1",{children:"tourbees"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("h2",{children:"your exclusive tour partner"}),Object(a.jsx)(l.b,{to:"/tourmenu",children:Object(a.jsx)("button",{className:"header-btn",children:"find out"})})]})})})}var u=n(18),d=n.n(u),b=n(22),h=n(10),O=n.p+"static/media/spinner.1e6c7ff9.gif";function p(){return Object(a.jsxs)("div",{className:"loading",children:[Object(a.jsx)("img",{className:"spinner",src:O,alt:""}),Object(a.jsx)("h4",{children:"Loading ..."})]})}var m=n(28);n(47);m.a.initializeApp({apiKey:"AIzaSyAvmOCITwc2n7AfUZxmsvSg3Oh9vxiB6BM",authDomain:"tours-inventory.firebaseapp.com",databaseURL:"https://tours-inventory.firebaseio.com",projectId:"tours-inventory",storageBucket:"tours-inventory.appspot.com",messagingSenderId:"227516769907",appId:"1:227516769907:web:63ecc0d66b794542512c06"});var x=m.a,f=n(29);var v=function(e){var t=e.filterItemsCat,n=e.filterItemsDate,c=e.tours,r=["all"].concat(Object(f.a)(new Set(c.map((function(e){return e.category}))))),s=["all"].concat(Object(f.a)(new Set(c.map((function(e){return e.date})))));return new Date,Object(a.jsxs)("div",{className:"categories-container wrapper",children:[Object(a.jsx)("div",{className:"calendar-container",children:Object(a.jsxs)("form",{className:"calendar",children:[Object(a.jsx)("label",{children:"select by date"}),Object(a.jsxs)("select",{onChange:function(e){return n(e.target.value)},children:[Object(a.jsx)("option",{value:"",children:"--Choose date--"},"select"),s.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e.id)}))]})]})}),Object(a.jsxs)("div",{className:"options-container",children:[Object(a.jsx)("span",{children:"select by category"}),Object(a.jsxs)("select",{onChange:function(e){return t(e.target.value)},children:[Object(a.jsx)("option",{value:"",children:"--Choose category--"}),r.map((function(e){return Object(a.jsx)("option",{children:e},e)}))]})]})]})};var g=function(e){var t=e.filterredTours;return Object(a.jsx)("div",{className:"tour-output-list",children:t.sort((function(e,t){return e.date<t.date})).map((function(e){return Object(a.jsxs)("div",{className:"tour-item",children:[Object(a.jsx)("h3",{children:e.name}),Object(a.jsxs)("p",{children:["category: ",e.category]}),Object(a.jsxs)("p",{children:["date: ",e.date]}),Object(a.jsxs)("p",{children:["seats: ",e.seats]}),Object(a.jsx)("div",{className:"img-container",children:Object(a.jsx)("img",{className:"tour-img",src:e.imgUrl,alt:"placeholder img"})}),Object(a.jsx)("div",{className:"tour-description",children:Object(a.jsx)("p",{children:e.description})})]},e.id)}))})},y=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),i=Object(h.a)(s,2),l=i[0],o=i[1],j=Object(c.useState)(!0),u=Object(h.a)(j,2),O=u[0],m=u[1],f=Object(c.useState)([]),y=Object(h.a)(f,2),N=y[0],w=y[1],S=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0),x.database().ref().on("value",(function(e){var t=e.val(),n=[];for(var a in t){var c={id:a,name:t[a].name,category:t[a].category,seats:t[a].seats,date:t[a].date,description:t[a].description,imgUrl:"https://source.unsplash.com/350x350/?"+t[a].name};n.push(c),m(!1)}r(n),o(n),w(n)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){S()}),[]),O?Object(a.jsx)("main",{children:Object(a.jsx)(p,{})}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)(v,{filterItemsCat:function(e){r(e&&"all"!==e?l.filter((function(t){return t.category===e})):l)},filterItemsDate:function(e){r(e&&"all"!==e?N.filter((function(t){return t.date===e})):l)},tours:n}),Object(a.jsxs)("div",{className:"tour-output-container",children:[Object(a.jsx)("h4",{children:0===n.length&&"please hold on... nothing found for this day "}),Object(a.jsx)(g,{filterredTours:n})]})]})})},N=(new Date).toISOString().split("T")[0],w=function(){var e=x.database().ref(),t=Object(c.useState)([]),n=Object(h.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)([]),l=Object(h.a)(i,2),o=l[0],j=l[1],u=Object(c.useState)([]),d=Object(h.a)(u,2),b=d[0],O=d[1],p=Object(c.useState)([]),m=Object(h.a)(p,2),f=m[0],v=m[1],g=Object(c.useState)([]),y=Object(h.a)(g,2),w=y[0],S=y[1],k=Object(c.useState)([]),C=Object(h.a)(k,2),I=C[0],D=C[1];return Object(a.jsx)("div",{className:"inputformWrapper",children:Object(a.jsxs)("form",{onSubmit:function(t){!function(t){t.preventDefault(),console.log(0===r.length),0===r.length||0===o.length||0===b.length||0===w.length||0===I.length||0===f.length?alert("all fields are required"):(e.push().set({name:r,category:o,date:b,duration:f,seats:w,description:I}),alert("submitted!"),s(""),j(""),O(""),v([]),S(""),D(""),console.log(r))}(t)},children:[Object(a.jsx)("input",{type:"text",className:"noteInput",placeholder:"Add tour name",name:"tourName",value:r,onChange:function(e){return s(e.target.value)},maxLength:"20"}),Object(a.jsx)("input",{type:"text",className:"descriptionInput",placeholder:"Add tour description",name:"tourDescription",value:I,onChange:function(e){return D(e.target.value)},maxLength:"60"}),Object(a.jsxs)("div",{className:"inputParamsWrapper",children:[Object(a.jsxs)("select",{className:"input-form-select",onChange:function(e){return j(e.target.value)},value:o,children:[Object(a.jsx)("option",{value:"",children:"-- select category --"},o),Object(a.jsx)("option",{value:"land",children:"land"},o),Object(a.jsx)("option",{value:"water",children:"water"},o),Object(a.jsx)("option",{value:"culinary",children:"culinary"},o),Object(a.jsx)("option",{value:"historical",children:"historical"},o),Object(a.jsx)("option",{value:"air",children:"air"},o)]}),Object(a.jsx)("input",{type:"date",min:N,className:"dateInput",name:"tourDate",value:b,onChange:function(e){return O(e.target.value)}}),Object(a.jsx)("input",{type:"number",className:"dateInput",placeholder:"hrs",name:"tourDuration",value:f,onChange:function(e){return v(e.target.value)}}),Object(a.jsx)("input",{type:"number",className:"dateInput",placeholder:"pax",name:"tourSeats",value:w,onChange:function(e){return S(e.target.value)}}),Object(a.jsx)("button",{type:"submit",onChange:function(){return j(null)},className:"noteButton",children:"Add"})]})]})})},S=n(35).a.database().ref(),k=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!0),i=Object(h.a)(s,2),l=i[0],o=i[1],j=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),S.on("value",(function(e){var t=e.val(),n=[];for(var a in t){var c={id:a,name:t[a].name,category:t[a].category,seats:t[a].seats,date:t[a].date,duration:t[a].duration};n.push(c),o(!1)}r(n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(c.useEffect)((function(){j()}),[]),l)return Object(a.jsx)("main",{children:Object(a.jsx)(p,{})});return Object(a.jsxs)("div",{className:"tour-edit-table",children:[Object(a.jsxs)("div",{className:"table-header",children:[Object(a.jsx)("h4",{children:"Tour Inventory Editor"}),Object(a.jsxs)("h4",{children:["Total tours: ",n.length]}),Object(a.jsxs)("ul",{className:"table-params",children:[Object(a.jsx)("li",{children:"edit"}),Object(a.jsx)("li",{children:"name"}),Object(a.jsx)("li",{children:"category"}),Object(a.jsx)("li",{children:"date"}),Object(a.jsx)("li",{children:"duration"}),Object(a.jsx)("li",{children:"seats"})]})]}),n.sort((function(e,t){return e.date<t.date})).map((function(e){return Object(a.jsx)("ul",{className:"table-vals",children:Object(a.jsxs)("li",{children:[Object(a.jsx)("p",{children:Object(a.jsx)("button",{onClick:function(){return t=e.id,void S.child(t).remove();var t},children:Object(a.jsx)("i",{className:"fas fa-backspace",children:" "})})}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{onClick:function(){return t=e.id,void function e(){var n=prompt("Edit Tour Name");n?S.child(t).update({name:n}):(alert("can't be blank"),e())}();var t},children:Object(a.jsx)("i",{className:"fas fa-pen",children:" "})}),e.name]}),Object(a.jsxs)("p",{children:[" ",e.category]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{onClick:function(){return function(e){var t=new Date,n=/^(19|20)\d{2}-(0[1-9]|1[0-2])-(0[1-9]|1\d|2\d|3[01])$/,a=(new Date).toISOString().split("T")[0],c=t.getFullYear();!function r(){var s=prompt("Edit tour date: year-month-day",c+"-0"+[t.getMonth()+1]+"-"+t.getDate());s?s<a?(alert("invalid date\n\ncan't chose past date\n\nconsider format: year-month-day\n\ne.g. 2021-01-01"),r()):s.slice(0,4)<c||s.slice(0,4)>c+1?(alert("invalid year\n\nplease chose something realistic ;)"),console.log(n.test(s)),r()):"-"!==s.slice(4,5)||"-"!==s.slice(7,8)||!1===n.test(s)?(alert("invalid format/date\n\nconsider format: year-month-day\n\ne.g. 2021-01-01"),r()):S.child(e).update({date:s}):(alert("check your input\n\ncan't be blank"),r())}()}(e.id)},children:Object(a.jsx)("i",{className:"fas fa-pen",children:" "})}),e.date]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{onClick:function(){return t=e.id,void function e(){var n=prompt("Edit Tour Duraiton - hours");n?S.child(t).update({duration:n}):(alert("can't be blank"),e())}();var t},children:Object(a.jsx)("i",{className:"fas fa-pen",children:" "})}),e.duration," hrs"]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{onClick:function(){return t=e.id,void function e(){var n=prompt("Edit Tour Seats");n?S.child(t).update({seats:n}):(alert("can't be blank"),e())}();var t},children:Object(a.jsx)("i",{className:"fas fa-pen",children:" "})}),e.seats," pax"]})]},e.id)},"tabb")}))]})},C=function(){return Object(a.jsxs)("div",{className:"tour-booking-list",children:[Object(a.jsx)(w,{}),Object(a.jsx)(k,{})]})},I=function(){var e="admin",t=Object(c.useState)(!1),n=Object(h.a)(t,2),r=n[0],s=n[1],i=Object(a.jsx)("div",{className:"authorize-wrapper",children:Object(a.jsxs)("div",{className:"authorize",children:[Object(a.jsx)("h4",{children:"please login to proceed"}),Object(a.jsx)("p",{children:"(password hint this time: 'admin')"}),Object(a.jsxs)("form",{action:"#",onSubmit:function(t){t.preventDefault();var n=t.target.querySelector('input[type="password"]').value;return e!==n?alert("wrong password"):s(e===n)},children:[Object(a.jsx)("input",{type:"password",placeholder:"Password"}),Object(a.jsx)("input",{type:"submit",value:"login"})]})]})});return Object(a.jsxs)(a.Fragment,{children:[r||i,r&&Object(a.jsx)(C,{})]})},D=n(8),T=n.p+"static/media/tourbeeslogo.8c45e0fb.svg";function E(){return Object(a.jsx)("div",{children:Object(a.jsxs)("nav",{className:"navbar",children:[Object(a.jsx)("i",{className:"fa fa-bars"}),Object(a.jsx)("input",{type:"checkbox",id:"toggle",name:"toggle"}),Object(a.jsx)("div",{className:"logo-wrapper",children:Object(a.jsx)("img",{src:T,alt:"tourbess logo",className:"logo"})}),Object(a.jsxs)("ul",{className:"nav-links",children:[Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/",children:"Home"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/tourmenu",children:"Tours"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/manageinventory",children:"Manage Inventory"})})]})]})})}var F=function(){return Object(a.jsxs)("footer",{children:[Object(a.jsxs)("ul",{className:"social",children:[Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:"li-ic mr-3",role:"button",href:"https://www.linkedin.com/in/sergechurkin/",target:"blank",children:Object(a.jsx)("i",{className:"fab fa-lg fa-linkedin-in "})})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:"git-ic mr-3 ",role:"button",href:"https://github.com/sergechurkin-ca",target:"blank",children:Object(a.jsx)("i",{className:"fab fa-lg fa-github "})})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:"email-ic mr-3",role:"button",href:"mailto:sergechurkin@gmai.com",children:Object(a.jsx)("i",{className:"far fa-lg fa-envelope "})})})]}),Object(a.jsxs)("p",{className:"trademark ",children:["2020 created by serge churkin ",Object(a.jsx)("a",{href:"https://serge-web.com",children:"    www.serge-web.com"})]})]})};var A=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(l.a,{basename:"/tours-inventory",children:[Object(a.jsx)(E,{}),Object(a.jsxs)(D.c,{children:[Object(a.jsx)(D.a,{exact:!0,path:"/",component:j}),Object(a.jsx)(D.a,{exat:!0,path:"/tourmenu",component:y}),Object(a.jsx)(D.a,{exact:!0,path:"/manageinventory",component:I}),Object(a.jsx)(D.a,{component:o})]}),Object(a.jsx)(F,{})]})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(l.a,{children:Object(a.jsx)(A,{})})}),document.getElementById("root")),B()}},[[50,1,2]]]);
//# sourceMappingURL=main.bbc3b386.chunk.js.map